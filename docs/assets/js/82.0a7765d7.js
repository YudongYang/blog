(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{438:function(t,e,s){"use strict";s.r(e);var a=s(42),o=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"postcss-and-source-maps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#postcss-and-source-maps"}},[t._v("#")]),t._v(" PostCSS and Source Maps")]),t._v(" "),s("p",[t._v("PostCSS has great "),s("a",{attrs:{href:"http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/",target:"_blank",rel:"noopener noreferrer"}},[t._v("source maps"),s("OutboundLink")],1),t._v(" support. It can read and interpret maps\nfrom previous transformation steps, autodetect the format that you expect,\nand output both external and inline maps.")]),t._v(" "),s("p",[t._v("To ensure that you generate an accurate source map, you must indicate the input\nand output CSS file paths — using the options "),s("code",[t._v("from")]),t._v(" and "),s("code",[t._v("to")]),t._v(", respectively.")]),t._v(" "),s("p",[t._v("To generate a new source map with the default options, simply set "),s("code",[t._v("map: true")]),t._v(".\nThis will generate an inline source map that contains the source content.\nIf you don’t want the map inlined, you can set "),s("code",[t._v("map.inline: false")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("processor\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("process")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("css"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app.sass.css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app.css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    map"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" inline"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//=> \'{ "version":3,')]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//      "file":"app.css",')]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//      "sources":["app.sass"],')]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//       "mappings":"AAAA,KAAI" }\'')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("If PostCSS finds source maps from a previous transformation,\nit will automatically update that source map with the same options.")]),t._v(" "),s("h2",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),s("p",[t._v("If you want more control over source map generation, you can define the "),s("code",[t._v("map")]),t._v("\noption as an object with the following parameters:")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("inline")]),t._v(" boolean: indicates that the source map should be embedded\nin the output CSS as a Base64-encoded comment. By default, it is "),s("code",[t._v("true")]),t._v(".\nBut if all previous maps are external, not inline, PostCSS will not embed\nthe map even if you do not set this option.")]),t._v(" "),s("p",[t._v("If you have an inline source map, the "),s("code",[t._v("result.map")]),t._v(" property will be empty,\nas the source map will be contained within the text of "),s("code",[t._v("result.css")]),t._v(".")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("prev")]),t._v(" string, object, boolean or function: source map content from\na previous processing step (for example, Sass compilation).\nPostCSS will try to read the previous source map automatically\n(based on comments within the source CSS), but you can use this option\nto identify it manually. If desired, you can omit the previous map\nwith "),s("code",[t._v("prev: false")]),t._v(".")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("sourcesContent")]),t._v(" boolean: indicates that PostCSS should set the origin\ncontent (for example, Sass source) of the source map. By default,\nit is "),s("code",[t._v("true")]),t._v(". But if all previous maps do not contain sources content,\nPostCSS will also leave it out even if you do not set this option.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("annotation")]),t._v(" boolean or string: indicates that PostCSS should add annotation\ncomments to the CSS. By default, PostCSS will always add a comment with a path\nto the source map. PostCSS will not add annotations to CSS files that\ndo not contain any comments.")]),t._v(" "),s("p",[t._v("By default, PostCSS presumes that you want to save the source map as\n"),s("code",[t._v("opts.to + '.map'")]),t._v(" and will use this path in the annotation comment.\nA different path can be set by providing a string value for "),s("code",[t._v("annotation")]),t._v(".")]),t._v(" "),s("p",[t._v("If you have set "),s("code",[t._v("inline: true")]),t._v(", annotation cannot be disabled.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("from")]),t._v(" string: by default, PostCSS will set the "),s("code",[t._v("sources")]),t._v(" property of the map\nto the value of the "),s("code",[t._v("from")]),t._v(" option. If you want to override this behaviour, you\ncan use "),s("code",[t._v("map.from")]),t._v(" to explicitly set the source map's "),s("code",[t._v("sources")]),t._v(" property.\nPath should be absolute or relative from generated file\n("),s("code",[t._v("to")]),t._v(" option in "),s("code",[t._v("process()")]),t._v(" method).")])])])])}),[],!1,null,null,null);e.default=o.exports}}]);